<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="renderer" content="webkit"><title>JS 基础部分面试 - Awoke</title><meta name="description" content="JS 基础部分面试.面试整理数据类型5种简单(基本)数据数据类型：String、Number、Boolean、Undefined、Null1种复杂数据类型：ObjectES6新增了一种基本类型Symbol,实现唯一标识, 用法:123456789101112131415161718192021&amp;#1"><link type="text/css" rel="stylesheet" href="/css/pure.css?v=0.0.1"><link type="text/css" rel="stylesheet" href="/css/style.css?v=0.0.1"><script type="text/javascript" src="//cdn.bootcss.com/jquery/1.11.0/jquery.min.js"></script></head></html><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">JS 基础部分面试</h1><a id="logo" href="/.">Awoke</a></div><div id="nav-menu"><div class="bitcron_nav"><div class="site_nav_wrap"><div class="site_nav"><span class="a_container"><a href="/." class="selected active current">归档</a></span><span class="a_container"><a href="/about/">关于</a></span></div></div></div></div></div><div id="layout" class="pure-g"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">JS 基础部分面试</h1><div class="post-meta">2017-11-02</div><!--文章内容--><div class="post-content"><p>JS 基础部分面试.</p>
<a id="more"></a>
<h1 id="面试整理"><a href="#面试整理" class="headerlink" title="面试整理"></a>面试整理</h1><h3 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h3><p>5种简单(基本)数据数据类型：<code>String</code>、<code>Number</code>、<code>Boolean</code>、<code>Undefined</code>、<code>Null</code></p>
<p>1种复杂数据类型：<code>Object</code></p>
<p>ES6新增了一种基本类型<code>Symbol</code>,实现唯一标识, 用法:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="comment">// 1. 定义方式</span></span><br><span class="line">    <span class="keyword">let</span> id = <span class="built_in">Symbol</span>(<span class="string">'id'</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> user = &#123;</span><br><span class="line">        name: <span class="string">'jack'</span>,</span><br><span class="line">        [id]: <span class="number">123</span> <span class="comment">// symbol类型</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 2. Symbol 被 for…in 忽略</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 3. Symbol.for, 读取定义的Symbol</span></span><br><span class="line">    <span class="keyword">let</span> id1 = <span class="built_in">Symbol</span>.for(<span class="string">"id"</span>);</span><br><span class="line">    <span class="keyword">let</span> id2 = <span class="built_in">Symbol</span>.for(<span class="string">"id"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// true</span></span><br><span class="line">    <span class="built_in">console</span>.log(id1 === id2)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 4. Symbol.keyFor, 获取Symbol名字</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">Symbol</span>.keyFor(id2)) <span class="comment">// </span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>JS按照存储方式分为<code>值类型</code>、<code>引用类型</code>：</p>
<p><code>值类型</code>分块存在内存空间， <code>引用类型</code>公用一块内存空间</p>
<h3 id="typeof"><a href="#typeof" class="headerlink" title="typeof"></a>typeof</h3><p> <code>typeof</code> 只能打印出 <code>undefined</code>、<code>stirng</code>、<code>number</code>、<code>boolean</code>、<code>object</code>、<code>function</code></p>
<p><code>数组</code>、<code>对象</code>、<code>null</code> 打印的都是 <code>object</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">typeof</span> <span class="literal">undefined</span>) <span class="comment">// undefined</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">typeof</span> <span class="string">'str'</span>) <span class="comment">// string</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">typeof</span> <span class="number">2</span>) <span class="comment">// number</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">typeof</span> <span class="literal">true</span>) <span class="comment">// boolean</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">typeof</span> &#123;&#125;) <span class="comment">// object</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">typeof</span> []) <span class="comment">// object</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">typeof</span> <span class="literal">null</span>) <span class="comment">// object</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">typeof</span> <span class="built_in">console</span>.log) <span class="comment">// function</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="和"><a href="#和" class="headerlink" title="=== 和 =="></a>=== 和 ==</h3><p><code>===</code> 会比较地址， <code>==</code> 只比较值</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="comment">// 1. 何时用 ==</span></span><br><span class="line">    <span class="keyword">let</span> obj = &#123;&#125;;</span><br><span class="line">    <span class="keyword">if</span> (obj.a == <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="comment">// 这里相当于 obj.a === null || obj.a === undefined 的简写形式，jquery 源码中推荐的写法</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="内置函数"><a href="#内置函数" class="headerlink" title="内置函数"></a>内置函数</h3><p><code>Object</code>、<code>Array</code>、<code>Boolean</code>、<code>Number</code>、<code>String</code>、<code>Function</code>、<code>Date</code>、<code>RegExp</code>、<code>Error</code></p>
<h3 id="构造函数"><a href="#构造函数" class="headerlink" title="构造函数"></a>构造函数</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Foo</span>(<span class="params">name, age</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">    <span class="keyword">this</span>.age = age;</span><br><span class="line">    <span class="comment">// return this  默认有这一行</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> f = <span class="keyword">new</span> Foo(<span class="string">'zs'</span>, <span class="number">20</span>);</span><br><span class="line"><span class="keyword">var</span> f2 = <span class="keyword">new</span> Foo(<span class="string">'lisi'</span>, <span class="number">20</span>);</span><br></pre></td></tr></table></figure>
<h3 id="构造函数扩展"><a href="#构造函数扩展" class="headerlink" title="构造函数扩展"></a>构造函数扩展</h3><p><code>var a = {}</code> 其实是 <code>var a = new Object()</code> 的语法糖</p>
<p><code>var a = []</code> 其实是 <code>var a = new Array()</code> 的语法糖</p>
<p><code>function Foo(){...}</code> 其实是 <code>var Foo = new Function(...)</code></p>
<p>使用 <code>instanceof</code> 判断一个函数是否是一个变量的构造函数，或者说在不在一个原型链上 <code>instanceof Array</code></p>
<h3 id="原型规则-prototype、proto"><a href="#原型规则-prototype、proto" class="headerlink" title="原型规则 prototype、proto"></a>原型规则 prototype、<strong>proto</strong></h3><ul>
<li>所有的引用类型(数组、对象、函数)，都有对象特性，即可自由扩展属性（除’null’）</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;&#125;; obj.a = <span class="number">100</span>;</span><br><span class="line"><span class="keyword">var</span> arr = []; arr.a = <span class="number">100</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>)</span>&#123;&#125;; fn.a = <span class="number">100</span>;</span><br></pre></td></tr></table></figure>
<ul>
<li>所有的引用类型(数组、对象、函数)，都有一个 <code>__proto__</code>(隐式原型) 属性，属性值是一个普通的对象</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="keyword">var</span> obj = &#123;&#125;; obj.a = <span class="number">100</span>;</span><br><span class="line">    <span class="keyword">var</span> arr = []; arr.a = <span class="number">100</span>;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>)</span>&#123;&#125;; fn.a = <span class="number">100</span>;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">console</span>.log(obj.__proto__) <span class="comment">// &#123;&#125;</span></span><br><span class="line">    <span class="built_in">console</span>.log(arr.__proto__) <span class="comment">// []</span></span><br><span class="line">    <span class="built_in">console</span>.log(fn.__proto__) <span class="comment">// [Function]</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>所有的函数，都有一个 <code>prototype</code>(显示原型) 属性，属性值是一个普通的对象</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(fn.prototype) <span class="comment">// fn &#123;&#125;</span></span><br></pre></td></tr></table></figure>
<ul>
<li><p>所有的引用类型(数组、对象、函数)， <code>__proto__</code> 属性值指向它的构造函数的 <code>prototype</code> 属性值</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(obj.__proto__ === <span class="built_in">Object</span>.prototype) <span class="comment">// true</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>当试图得到一个对象的某个属性时，如果这个对象本身没有这个属性，那么会去它的 <code>__proto__</code> (即它的构造函数的 <code>prototype</code>)中寻找</p>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">Foo</span>(<span class="params">name, age</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name</span><br><span class="line">    &#125;</span><br><span class="line">    Foo.prototype.alertName = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.name + <span class="string">' alert'</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> f = <span class="keyword">new</span> Foo(<span class="string">'zs'</span>)</span><br><span class="line">    f.printName = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.name + <span class="string">' print'</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    f.printName() <span class="comment">// zs print</span></span><br><span class="line">    f.alertName() <span class="comment">// zs alert</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">console</span>.log(f.__proto__ === Foo.prototype) <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 遍历自身属性</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> item <span class="keyword">in</span> f) &#123;</span><br><span class="line">        <span class="keyword">if</span> (f.hasOwnProperty(item)) &#123;</span><br><span class="line">            <span class="built_in">console</span>.log(item) <span class="comment">// name printName</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="原型链"><a href="#原型链" class="headerlink" title="原型链"></a>原型链</h3><p><img src="/2017/11/02/面试整理1101/面试整理/./面试整理/原型链.jpg" alt=""></p>
<p><img src="/2017/11/02/面试整理1101/面试整理/./面试整理/原型链2.jpg" alt=""></p>
<ol>
<li><p>实例对象.<strong>proto</strong> 指向 构造函数.prototype （f.<strong>proto</strong> === Foo.prototype）</p>
</li>
<li><p>构造函数也是对象，对象有<strong>proto</strong> 属性 （Foo.prototype.<strong>proto</strong> === Object.prototype）</p>
</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 接上一题代码 </span></span><br><span class="line">f.toString() <span class="comment">// 自身没有 toString()，要去 f.__proto__.__proto__ 中查找</span></span><br><span class="line"><span class="built_in">console</span>.log(f.__proto__.__proto__ === <span class="built_in">Object</span>.prototype) <span class="comment">// true</span></span><br></pre></td></tr></table></figure>
<h3 id="instanceof"><a href="#instanceof" class="headerlink" title="instanceof"></a>instanceof</h3><p>用于判断 <code>引用类型</code> 属于哪个 <code>构造函数</code> 的方法</p>
<p>f 的 <strong>proto</strong> 一层一层网上，能否对应到 Foo.prototype</p>
<p>换句话： <code>f instanceof Foo</code> 为 <code>true</code>，表示 <code>Foo</code> 在 <code>f</code> 的原型链上</p>
<p><code>f instanceof Object</code> 也是 true</p>
<h3 id="判断变量是数组"><a href="#判断变量是数组" class="headerlink" title="判断变量是数组"></a>判断变量是数组</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [];</span><br><span class="line">arr <span class="keyword">instanceof</span> <span class="built_in">Array</span> <span class="comment">// true</span></span><br><span class="line"><span class="keyword">typeof</span> arr <span class="comment">// object</span></span><br></pre></td></tr></table></figure>
<h3 id="原型链继承的例子"><a href="#原型链继承的例子" class="headerlink" title="原型链继承的例子"></a>原型链继承的例子</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&#123;   <span class="comment">// 动物</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">Animal</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.eat = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">'animal eat'</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 狗</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">Dog</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.bark = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">'dog bark'</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    Dog.prototype = <span class="keyword">new</span> Animal()</span><br><span class="line">    <span class="keyword">var</span> hashiqi = <span class="keyword">new</span> Dog</span><br><span class="line">    </span><br><span class="line">    hashiqi.eat() <span class="comment">// animal eat，本身没有eat  </span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>好的例子</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">Elem</span>(<span class="params">id</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.elem = <span class="built_in">document</span>.getElementById(id)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    Elem.prototype.html = <span class="function"><span class="keyword">function</span> (<span class="params">val</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> elem = <span class="keyword">this</span>.elem;</span><br><span class="line">        <span class="keyword">if</span> (val) &#123;</span><br><span class="line">            elem.innerHTML = val</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">this</span> <span class="comment">// 链式调用</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> elem.innerHTML</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    Elem.prototype.on = <span class="function"><span class="keyword">function</span> (<span class="params">type, fn</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> elem = <span class="keyword">this</span>.elem</span><br><span class="line">        elem.addEventListener(type, fn)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> div1 = <span class="keyword">new</span> Elem(<span class="string">'div1'</span>)</span><br><span class="line">    <span class="comment">// console.log(div1.html())</span></span><br><span class="line"></span><br><span class="line">    div1.html(<span class="string">'&lt;p&gt;hello&lt;/p&gt;'</span>).on(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'clicked'</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="new-的过程"><a href="#new-的过程" class="headerlink" title="new 的过程"></a>new 的过程</h3><ul>
<li><p>创建一个新对象</p>
</li>
<li><p>this 指向这个新对象</p>
</li>
<li><p>执行代码，对 this 赋值</p>
</li>
<li><p>返回 this</p>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">Foo</span>(<span class="params">name, age</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">        <span class="keyword">this</span>.class = <span class="string">'class-1'</span></span><br><span class="line">        <span class="comment">// return this 默认有这一行</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> f = <span class="keyword">new</span> Foo(<span class="string">'zs'</span>, <span class="number">20</span>);</span><br><span class="line">    <span class="keyword">var</span> f1 = <span class="keyword">new</span> Foo(<span class="string">'lisi'</span>, <span class="number">22</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="执行上下文"><a href="#执行上下文" class="headerlink" title="执行上下文"></a>执行上下文</h3><ul>
<li>范围：一段 <script> 或者一个函数</li>
<li>全局：变量定义、函数声明 </li>
<li>函数：变量定义、函数声明、this、arguments</li>
</ul>
<p>“函数声明” 和 “函数表达式” 区别</p>
<h3 id="this"><a href="#this" class="headerlink" title="this"></a>this</h3><p>this 要在执行时才能确认值，定义时无法确认，（谁调用指向谁）</p>
<ul>
<li>作为构造函数执行</li>
<li>作为对象属性执行</li>
<li>作为普通函数执行</li>
<li>call apply bind</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="keyword">var</span> a = &#123;</span><br><span class="line">        name: <span class="string">'A'</span>,</span><br><span class="line">        fn: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="keyword">this</span>.name)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    a.fn() <span class="comment">// this === a</span></span><br><span class="line">    a.fn.call(&#123; <span class="attr">name</span>: <span class="string">'B'</span> &#125;) <span class="comment">// this === &#123;name: 'B'&#125;</span></span><br><span class="line">    <span class="keyword">var</span> fn1 = a.fn</span><br><span class="line">    fn1() <span class="comment">// this === window</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="call-apply-bind"><a href="#call-apply-bind" class="headerlink" title="call apply bind"></a>call apply bind</h3><p>三个方法主要作用就是改变函数中 this 的指向</p>
<p><code>bind 是返回对应函数，便于稍后调用， apply、call 则是立即调用</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params">name, age</span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>)</span><br><span class="line">        <span class="built_in">console</span>.log(name)</span><br><span class="line">        <span class="built_in">console</span>.log(age)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    fn.call(&#123; <span class="attr">x</span>: <span class="number">100</span> &#125;, <span class="string">'zs'</span>, <span class="number">20</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 第二个参数是数组</span></span><br><span class="line">    fn.apply(&#123; <span class="attr">y</span>: <span class="number">200</span> &#125;, [<span class="string">'ls'</span>, <span class="number">30</span>]);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> fn2 = <span class="function"><span class="keyword">function</span> (<span class="params">name, age</span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>)</span><br><span class="line">        <span class="built_in">console</span>.log(name)</span><br><span class="line">        <span class="built_in">console</span>.log(age)</span><br><span class="line">    &#125;.bind(&#123; <span class="attr">z</span>: <span class="number">300</span> &#125;)</span><br><span class="line"></span><br><span class="line">    fn2(<span class="string">'ww'</span>, <span class="number">40</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="作用域"><a href="#作用域" class="headerlink" title="作用域"></a>作用域</h3><p>一个函数的作用域，由定义的时候决定</p>
<ul>
<li>块级作用域</li>
</ul>
<p><code>ES6 之前无块级作用于， ES6 的 let、const会产生块级作用于</code></p>
<ul>
<li>函数和全局作用域</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(a); <span class="comment">// undefined </span></span><br><span class="line">    <span class="keyword">var</span> a = <span class="number">100</span>;</span><br><span class="line"></span><br><span class="line">    fn(<span class="string">'zs'</span>);</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params">name</span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>) <span class="comment">// Window 或者 global</span></span><br><span class="line">        <span class="built_in">console</span>.log(<span class="built_in">arguments</span>); <span class="comment">// &#123; '0': 'zs' &#125;</span></span><br><span class="line"></span><br><span class="line">        age = <span class="number">20</span>;</span><br><span class="line">        <span class="built_in">console</span>.log(name, age); <span class="comment">// zs 20</span></span><br><span class="line">        <span class="keyword">var</span> age;</span><br><span class="line"></span><br><span class="line">        bar(<span class="number">100</span>);</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">bar</span>(<span class="params">num</span>)</span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(num) <span class="comment">// 100</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="作用域链"><a href="#作用域链" class="headerlink" title="作用域链"></a>作用域链</h3><p>向上查找，形成一条链</p>
<ul>
<li>自由变量，当前作用域没有定义的变量</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">100</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> b = <span class="number">200</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 自由变量，当前作用域没有定义的变量</span></span><br><span class="line">    <span class="built_in">console</span>.log(a)</span><br><span class="line"></span><br><span class="line">    <span class="built_in">console</span>.log(b)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="闭包"><a href="#闭包" class="headerlink" title="闭包"></a>闭包</h3><p>使用场景：</p>
<ul>
<li>函数作为返回值</li>
<li>函数作为参数传递</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">F1</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> a = <span class="number">100</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 函数作为返回值</span></span><br><span class="line">        <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(a)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// f1 得到一个函数</span></span><br><span class="line">    <span class="keyword">var</span> f1 = F1()</span><br><span class="line">    <span class="keyword">var</span> a = <span class="number">200</span></span><br><span class="line"></span><br><span class="line">    f1() <span class="comment">// 100， 函数的作用域由定义的时候决定的， 所以 a 取的是 100</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#123;   </span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">F1</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> a = <span class="number">100</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(a)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> f1 = F1()</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">F2</span>(<span class="params">fn</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> a = <span class="number">200</span>;</span><br><span class="line">        fn()</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 当作参数传递</span></span><br><span class="line">    F2(f1) <span class="comment">// 100</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>实际应用：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="comment">// 创建10个a标签，点击时候弹出对应序号</span></span><br><span class="line">    <span class="keyword">var</span> i;</span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">        (<span class="function"><span class="keyword">function</span> (<span class="params">i</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">var</span> a = <span class="built_in">document</span>.createElement(<span class="string">'a'</span>)</span><br><span class="line">            a.innerHTML = i + <span class="string">'&lt;br&gt;'</span></span><br><span class="line">            a.addEventListener(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">                e.preventDefault()</span><br><span class="line">                <span class="built_in">console</span>.log(i)</span><br><span class="line">            &#125;)</span><br><span class="line">            <span class="built_in">document</span>.body.appendChild(a)</span><br><span class="line">        &#125;)(i)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&#123;   </span><br><span class="line">    <span class="comment">// 封装变量，收敛权限</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">isFirstLoad</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> _list = [];</span><br><span class="line">        <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params">id</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">if</span> (_list.indexOf(id) &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                _list.push(id);</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> firstLoad = isFirstLoad()</span><br><span class="line">    <span class="built_in">console</span>.log(firstLoad(<span class="number">10</span>)) <span class="comment">// true</span></span><br><span class="line">    <span class="built_in">console</span>.log(firstLoad(<span class="number">10</span>)) <span class="comment">// false</span></span><br><span class="line">    <span class="built_in">console</span>.log(firstLoad(<span class="number">20</span>)) <span class="comment">// true</span></span><br><span class="line">    <span class="comment">// 你在 isFirstLoad 函数外面，根本不可能修改掉 _list 的值</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="异步和单线程"><a href="#异步和单线程" class="headerlink" title="异步和单线程"></a>异步和单线程</h3><ul>
<li>定时任务：setTimeout, setInterval</li>
<li>网络请求：ajax 请求， 动态 <img> 加载</li>
<li>事件绑定</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&#123;   </span><br><span class="line">    <span class="comment">// 1. 异步</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">100</span>);</span><br><span class="line">    setTimeout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="number">200</span>);</span><br><span class="line">    &#125;, <span class="number">1000</span>)</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">300</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 输出顺序：100 300 200</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 2. 同步</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">100</span>)</span><br><span class="line">    <span class="comment">// alert(200)</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">300</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>同步异步区别：</p>
<ul>
<li><p>同步会阻塞代码执行，而异步不会</p>
</li>
<li><p>alert 是同步， setTimeout 是异步</p>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">    setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="number">2</span>)</span><br><span class="line">    &#125;,<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">3</span>);</span><br><span class="line"></span><br><span class="line">    setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="number">4</span>)</span><br><span class="line">    &#125;, <span class="number">1000</span>);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">5</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 输出：1 3 5 2 4</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="日期和-Math"><a href="#日期和-Math" class="headerlink" title="日期和 Math"></a>日期和 Math</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">Date</span>.now()) <span class="comment">// 1509527636788, 获取当前时间毫秒数，1970年算起</span></span><br><span class="line">    <span class="keyword">var</span> dt = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line">    <span class="built_in">console</span>.log(dt.getTime()); <span class="comment">// 1509527636794, 获取当前时间毫秒数</span></span><br><span class="line">    <span class="built_in">console</span>.log(dt.getFullYear()) <span class="comment">// 年</span></span><br><span class="line">    <span class="built_in">console</span>.log(dt.getMonth()) <span class="comment">// 月（0-11）</span></span><br><span class="line">    <span class="built_in">console</span>.log(dt.getDate()) <span class="comment">// 日（0-31）</span></span><br><span class="line">    <span class="built_in">console</span>.log(dt.getHours()) <span class="comment">// 小时（0-23）</span></span><br><span class="line">    <span class="built_in">console</span>.log(dt.getMinutes()) <span class="comment">// 分钟（0-59）</span></span><br><span class="line">    <span class="built_in">console</span>.log(dt.getSeconds()) <span class="comment">// 秒（0-60）</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">Math</span>.random()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="数组和对象的-API"><a href="#数组和对象的-API" class="headerlink" title="数组和对象的 API"></a>数组和对象的 API</h3><ul>
<li>forEach 遍历所有元素</li>
<li>every 判断所有元素是否都符合条件</li>
<li>some 判断是否有至少一个元素符合条件</li>
<li>sort 排序</li>
<li>map 对元素重新组装，生成新数组</li>
<li>filter 过滤符合条件的元素</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>];</span><br><span class="line">    <span class="comment">// forEach</span></span><br><span class="line">    arr.forEach(<span class="function"><span class="keyword">function</span> (<span class="params">item, index</span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(index, item);</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// every</span></span><br><span class="line">    <span class="keyword">var</span> result = arr.every(<span class="function"><span class="keyword">function</span> (<span class="params">item, index</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (item &lt; <span class="number">4</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="built_in">console</span>.log(result); <span class="comment">// false，有一个不符合</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// some</span></span><br><span class="line">    <span class="keyword">var</span> result2 = arr.some(<span class="function"><span class="keyword">function</span> (<span class="params">item, index</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (item &lt; <span class="number">2</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="built_in">console</span>.log(result2); <span class="comment">// true，有一个符合</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// sort</span></span><br><span class="line">    <span class="keyword">var</span> arr2 = arr.sort(<span class="function"><span class="keyword">function</span> (<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> b - a; <span class="comment">// 从大到小排序</span></span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="built_in">console</span>.log(arr2); <span class="comment">// sort 参数是一个函数</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// map</span></span><br><span class="line">    <span class="keyword">var</span> arr3 = arr.map(<span class="function"><span class="keyword">function</span> (<span class="params">item, index</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">'&lt;br&gt;'</span> + item + <span class="string">'&lt;/b&gt;'</span>; <span class="comment">// 元素重新组装</span></span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="built_in">console</span>.log(arr3);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// filter</span></span><br><span class="line">    <span class="keyword">var</span> arr4 = arr.filter(<span class="function"><span class="keyword">function</span> (<span class="params">item, index</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (item &gt;= <span class="number">2</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="built_in">console</span>.log(arr4);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="keyword">var</span> obj = &#123;</span><br><span class="line">        x: <span class="number">100</span>,</span><br><span class="line">        y: <span class="number">200</span>,</span><br><span class="line">        z: <span class="number">300</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> key</span><br><span class="line">    <span class="keyword">for</span> (key <span class="keyword">in</span> obj) &#123;</span><br><span class="line">        <span class="keyword">if</span> (obj.hasOwnProperty(key)) &#123;</span><br><span class="line">            <span class="built_in">console</span>.log(key, obj[key])</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="获取-2017-06-10-格式的日期"><a href="#获取-2017-06-10-格式的日期" class="headerlink" title="获取 2017-06-10 格式的日期"></a>获取 2017-06-10 格式的日期</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="comment">// 获取 2017-10-10 格式的日期</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">formatDate</span>(<span class="params">dt</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (!dt) &#123;</span><br><span class="line">            dt = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">var</span> year = dt.getFullYear();</span><br><span class="line">        <span class="keyword">var</span> month = dt.getMonth() + <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">var</span> date = dt.getDate()</span><br><span class="line">        <span class="keyword">if</span> (month &lt; <span class="number">10</span>) &#123;</span><br><span class="line">            <span class="comment">// 强制类型转换</span></span><br><span class="line">            month = <span class="string">'0'</span> + month;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (date &lt; <span class="number">10</span>) &#123;</span><br><span class="line">            <span class="comment">// 强制类型转换</span></span><br><span class="line">            date = <span class="string">'0'</span> + date</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> year + <span class="string">'-'</span> + month + <span class="string">'-'</span> + date;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> dt = <span class="keyword">new</span> <span class="built_in">Date</span>()</span><br><span class="line">    <span class="keyword">var</span> fmtDate = formatDate(dt);</span><br><span class="line">    <span class="built_in">console</span>.log(fmtDate) <span class="comment">// 2017-10-10</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="获取长度一致的随机数"><a href="#获取长度一致的随机数" class="headerlink" title="获取长度一致的随机数"></a>获取长度一致的随机数</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="keyword">var</span> random = <span class="built_in">Math</span>.random();</span><br><span class="line">    <span class="keyword">var</span> random = random + <span class="string">'0000000000'</span>; <span class="comment">// 后面加 10 个 0</span></span><br><span class="line">    <span class="keyword">var</span> random = random.slice(<span class="number">0</span>, <span class="number">10</span>); <span class="comment">// 截取前十个</span></span><br><span class="line">    <span class="built_in">console</span>.log(random)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="写一个遍历对象和数组的-forEach"><a href="#写一个遍历对象和数组的-forEach" class="headerlink" title="写一个遍历对象和数组的 forEach"></a>写一个遍历对象和数组的 forEach</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">forEach</span>(<span class="params">obj, fn</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> key;</span><br><span class="line">        <span class="keyword">if</span> (obj <span class="keyword">instanceof</span> <span class="built_in">Array</span>) &#123;</span><br><span class="line">            obj.forEach(<span class="function"><span class="keyword">function</span> (<span class="params">item, index</span>) </span>&#123;</span><br><span class="line">                fn(index, item);</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">for</span> (key <span class="keyword">in</span> obj) &#123;</span><br><span class="line">                fn(key, obj[key]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 测试</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line">    <span class="comment">// 这里参数顺序换了，为了跟对象遍历一致</span></span><br><span class="line">    forEach(arr, <span class="function"><span class="keyword">function</span> (<span class="params">index, item</span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(index, item);</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> obj = &#123; <span class="attr">x</span>: <span class="number">100</span>, <span class="attr">y</span>: <span class="number">200</span> &#125;;</span><br><span class="line">    forEach(obj, <span class="function"><span class="keyword">function</span> (<span class="params">key, value</span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(key, value)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="JS-Web-API"><a href="#JS-Web-API" class="headerlink" title="JS-Web-API"></a>JS-Web-API</h2><ul>
<li>常说的JS（浏览器执行的JS）包含两部分:</li>
<li>JS基础知识（ECMA262标准）</li>
<li>JS-Web-API（W3C标准）</li>
</ul>
<h2 id="DOM-本质"><a href="#DOM-本质" class="headerlink" title="DOM 本质"></a>DOM 本质</h2><p>DOM（DOM—Document Object Model）是W3C国际组织的一套Web标准。它定义了访问HTML文档对象的一套属性、方法和事件。</p>
<p>DOM是以层次结构组织的节点或信息片断的集合。文档对象模型（Document Object Model）是给HTML与XML文件使用的一组API。DOM的本质是建立网页与脚本语言或程序语言沟通的桥梁。</p>
<h3 id="DOM-节点操作"><a href="#DOM-节点操作" class="headerlink" title="DOM 节点操作"></a>DOM 节点操作</h3><ul>
<li>获取 DOM 节点</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="built_in">document</span>.getElementById(<span class="string">'div1'</span>) <span class="comment">// 拿到元素</span></span><br><span class="line">    <span class="built_in">document</span>.getElementsByTagName(<span class="string">'div'</span>) <span class="comment">// 拿到集合</span></span><br><span class="line">    <span class="built_in">document</span>.getElementsByClassName(<span class="string">'.container'</span>) <span class="comment">// 集合</span></span><br><span class="line">    <span class="built_in">document</span>.querySelector(<span class="string">'#demo'</span>) <span class="comment">// 元素</span></span><br><span class="line">    <span class="built_in">document</span>.querySelectorAll(<span class="string">'p'</span>) <span class="comment">// 集合</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>property</li>
</ul>
<p>property 只是一个 JS 对象的属性的修改和获取</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="keyword">var</span> pList = <span class="built_in">document</span>.querySelectorAll(<span class="string">'p'</span>);</span><br><span class="line">    <span class="keyword">var</span> p = pList[<span class="number">0</span>];</span><br><span class="line">    <span class="built_in">console</span>.log(p.style.width); <span class="comment">// 获取样式</span></span><br><span class="line"></span><br><span class="line">    p.style.width = <span class="string">'100px'</span>; <span class="comment">// 修改样式</span></span><br><span class="line">    <span class="built_in">console</span>.log(p.className); <span class="comment">// 获取 class</span></span><br><span class="line">    p.className = <span class="string">'p1'</span>; <span class="comment">// 修改 class</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">console</span>.log(p.nodeName); <span class="comment">// 获取 nodeName</span></span><br><span class="line">    <span class="built_in">console</span>.log(p.nodeType); <span class="comment">// 获取 nodeType</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/* </span></span><br><span class="line"><span class="comment">    Node.nodeType</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    常量	                           值	     描述</span></span><br><span class="line"><span class="comment">    Node.ELEMENT_NODE	             1	一个 元素 节点，例如 &lt;p&gt; 和 &lt;div&gt;。</span></span><br><span class="line"><span class="comment">    Node.TEXT_NODE	                 3	Element 或者 Attr 中实际的  文字</span></span><br><span class="line"><span class="comment">    Node.PROCESSING_INSTRUCTION_NODE 7	一个用于XML文档的 ProcessingInstruction ，例如 &lt;?xml-stylesheet ... ?&gt; 声明。</span></span><br><span class="line"><span class="comment">    Node.COMMENT_NODE	             8	一个 Comment 节点。</span></span><br><span class="line"><span class="comment">    Node.DOCUMENT_NODE	             9	一个 Document 节点。</span></span><br><span class="line"><span class="comment">    Node.DOCUMENT_TYPE_NODE	         10	描述文档类型的 DocumentType 节点。例如 &lt;!DOCTYPE html&gt;  就是用于 HTML5 的。</span></span><br><span class="line"><span class="comment">    Node.DOCUMENT_FRAGMENT_NODE	     11	一个 DocumentFragment 节点</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    没列出来的已经弃用了。</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>Attribute</li>
</ul>
<p>Attribute 是对 html 标签属性的修改和获取</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="keyword">var</span> pList = <span class="built_in">document</span>.querySelectorAll(<span class="string">'p'</span>);</span><br><span class="line">    <span class="keyword">var</span> p = pList[<span class="number">0</span>];</span><br><span class="line">    </span><br><span class="line">    p.getAttribute(<span class="string">'data-name'</span>);</span><br><span class="line">    p.setAttribute(<span class="string">'data-name'</span>, <span class="string">'sss'</span>);</span><br><span class="line"></span><br><span class="line">    p.getAttribute(<span class="string">'style'</span>);</span><br><span class="line">    p.setAttribute(<span class="string">'style'</span>, <span class="string">'font-size:30px'</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="DOM-结构操作"><a href="#DOM-结构操作" class="headerlink" title="DOM 结构操作"></a>DOM 结构操作</h3><ul>
<li>新增节点</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 获取 div1 节点</span></span><br><span class="line"><span class="keyword">var</span> div1 = <span class="built_in">document</span>.getElmentById(<span class="string">'div1'</span>);</span><br><span class="line"><span class="comment">// 创建元素</span></span><br><span class="line"><span class="keyword">var</span> p1 = <span class="built_in">document</span>.createElement(<span class="string">'p'</span>);</span><br><span class="line"><span class="comment">// 设置内容</span></span><br><span class="line">p1.innerHTML = <span class="string">'this is p1'</span>;</span><br><span class="line"><span class="comment">// 挂载</span></span><br><span class="line">div1.appendChild(p1);</span><br><span class="line"><span class="comment">// 获取 p2 节点</span></span><br><span class="line"><span class="keyword">var</span> p2 = <span class="built_in">document</span>.getElementById(<span class="string">'p2'</span>);</span><br><span class="line"><span class="comment">// 移动到 p2 节点下</span></span><br><span class="line">div1.appendChild(p2);</span><br></pre></td></tr></table></figure>
<ul>
<li>获取父元素</li>
<li>获取子元素</li>
<li>删除节点</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> div1 = <span class="built_in">document</span>.getElmentById(<span class="string">'div1'</span>);</span><br><span class="line"><span class="comment">// 获取父元素</span></span><br><span class="line"><span class="keyword">var</span> parent = div1.parentElement;</span><br><span class="line"><span class="comment">// 获取子节点</span></span><br><span class="line"><span class="keyword">var</span> child = div1.childNodes;</span><br><span class="line"><span class="comment">// 删除</span></span><br><span class="line">div1.removeChild(child[<span class="number">0</span>])</span><br></pre></td></tr></table></figure>
<h2 id="BOM-操作"><a href="#BOM-操作" class="headerlink" title="BOM 操作"></a>BOM 操作</h2><h3 id="检测浏览器类型"><a href="#检测浏览器类型" class="headerlink" title="检测浏览器类型"></a>检测浏览器类型</h3><h3 id="拆解-url-的各部分"><a href="#拆解-url-的各部分" class="headerlink" title="拆解 url 的各部分"></a>拆解 url 的各部分</h3><h3 id="navigator"><a href="#navigator" class="headerlink" title="navigator"></a>navigator</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* "Mozilla/5.0 (iPhone; CPU iPhone OS 9_1 like Mac OS X) AppleWebKit/601.1.46 (KHTML, like Gecko) Version/9.0 Mobile/13B143 Safari/601.1"</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">"Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/55.0.2883.87 Safari/537.36" */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ua 就是一个字符串</span></span><br><span class="line"><span class="keyword">var</span> ua = navigator.userAgent;</span><br><span class="line"><span class="keyword">var</span> isChrome = ua.indexOf(<span class="string">'Chrome'</span>)</span><br></pre></td></tr></table></figure>
<h3 id="screen"><a href="#screen" class="headerlink" title="screen"></a>screen</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(screen.width);</span><br><span class="line"><span class="built_in">console</span>.log(screen.height)</span><br></pre></td></tr></table></figure>
<h3 id="location"><a href="#location" class="headerlink" title="location"></a>location</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(location.href) <span class="comment">// https://www.baidu.com/?wd=323</span></span><br><span class="line"><span class="built_in">console</span>.log(location.protocol) <span class="comment">// https:</span></span><br><span class="line"><span class="built_in">console</span>.log(location.pathname) <span class="comment">// /</span></span><br><span class="line"><span class="built_in">console</span>.log(location.host) <span class="comment">// www.baidu.com</span></span><br><span class="line"><span class="built_in">console</span>.log(location.hostname) <span class="comment">// www.baidu.com</span></span><br><span class="line"><span class="built_in">console</span>.log(location.search) <span class="comment">// ? 后面的</span></span><br><span class="line"><span class="built_in">console</span>.log(location.hash) <span class="comment">// # 后面的</span></span><br></pre></td></tr></table></figure>
<h3 id="history"><a href="#history" class="headerlink" title="history"></a>history</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">history.back()</span><br><span class="line">history.forward()</span><br></pre></td></tr></table></figure>
<h2 id="事件"><a href="#事件" class="headerlink" title="事件"></a>事件</h2><h3 id="通用的事件绑定"><a href="#通用的事件绑定" class="headerlink" title="通用的事件绑定"></a>通用的事件绑定</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> btn = <span class="built_in">document</span>.getElementById(<span class="string">'btn1'</span>);</span><br><span class="line">btn.addEventListener(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">event</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'clicked'</span>);</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">bindEvent</span>(<span class="params">elem, type, fn</span>) </span>&#123;</span><br><span class="line">    elem.addEventListener(type, fn)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a = <span class="built_in">document</span>.getElementByid(<span class="string">'link1'</span>)</span><br><span class="line">bindEvent(a, <span class="string">'click'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 阻止默认行为</span></span><br><span class="line">    e.preventDefault()</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'clicked'</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h3 id="完善通用绑定事件的函数"><a href="#完善通用绑定事件的函数" class="headerlink" title="完善通用绑定事件的函数"></a>完善通用绑定事件的函数</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">bindEvent</span>(<span class="params">elem, type, selector, fn</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(fn == <span class="literal">null</span>) &#123;</span><br><span class="line">        fn = selector</span><br><span class="line">        selector = <span class="literal">null</span></span><br><span class="line">    &#125;</span><br><span class="line">    elem.addEventListener(type, <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> target</span><br><span class="line">        <span class="keyword">if</span>(selector) &#123;</span><br><span class="line">            target = e.target</span><br><span class="line">            <span class="keyword">if</span>(target.matches(selector)) &#123;</span><br><span class="line">                fn.call(target, e)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            fn(e)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用代理，四个参数</span></span><br><span class="line"><span class="keyword">var</span> div1 = <span class="built_in">document</span>.getElementById(<span class="string">'div1'</span>)</span><br><span class="line">bindEvent(div1, <span class="string">'click'</span>, <span class="string">'a'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.innerHTML)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 不使用代理，三个参数</span></span><br><span class="line"><span class="keyword">var</span> a = <span class="built_in">document</span>.getElementById(<span class="string">'a1'</span>)</span><br><span class="line">bindEvent(div1, <span class="string">'click'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(a.innerHTML)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h3 id="IE-低版本兼容性"><a href="#IE-低版本兼容性" class="headerlink" title="IE 低版本兼容性"></a>IE 低版本兼容性</h3><ul>
<li>低版本使用 attchEvent 绑定事件, 和 W3C 标准不一样</li>
<li>使用量非常少了，很多网站都早已不支持</li>
</ul>
<h3 id="事件冒泡"><a href="#事件冒泡" class="headerlink" title="事件冒泡"></a>事件冒泡</h3><h3 id="事件代理"><a href="#事件代理" class="headerlink" title="事件代理"></a>事件代理</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"div1"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>a1<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>a2<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>a3<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> div1 = <span class="built_in">document</span>.getElementById(<span class="string">'div1'</span>);</span><br><span class="line"><span class="comment">// 给父亲绑定了事件</span></span><br><span class="line">div1.addEventListener(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 事件源</span></span><br><span class="line">    <span class="keyword">var</span> target = e.target</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(target.nodeName === <span class="string">'A'</span>)&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(traget.innerHTML)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h2 id="Ajax"><a href="#Ajax" class="headerlink" title="Ajax"></a>Ajax</h2><h3 id="XMLHttpRequest"><a href="#XMLHttpRequest" class="headerlink" title="XMLHttpRequest"></a>XMLHttpRequest</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> xhr = <span class="keyword">new</span> XMLHttpRequest()</span><br><span class="line">xhr.open(<span class="string">'get'</span>, <span class="string">'/api'</span>, <span class="literal">false</span>)</span><br><span class="line">xhr.onreadystatechange = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 异步</span></span><br><span class="line">    <span class="keyword">if</span>(xhr.readyState == <span class="number">4</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (xhr.status == <span class="number">200</span>) &#123;</span><br><span class="line">            <span class="built_in">console</span>.log(xhr.responseText)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">xhr.send(<span class="literal">null</span>)</span><br></pre></td></tr></table></figure>
<h3 id="IE-兼容性问题"><a href="#IE-兼容性问题" class="headerlink" title="IE 兼容性问题"></a>IE 兼容性问题</h3><h3 id="状态码说明"><a href="#状态码说明" class="headerlink" title="状态码说明"></a>状态码说明</h3><p><code>readyState</code></p>
<ul>
<li>0 (未初始化)还没有调用send（）方法</li>
<li>1（载入）已调用send（）方法，正在发送请求</li>
<li>2（载入完成）send（）方法执行完成，已经接收到全部响应内容</li>
<li>3（交互）正在解析响应内容</li>
<li>4（完成）响应内容解析完成，可以在客户端调用了</li>
</ul>
<p><code>status</code></p>
<ul>
<li>2xx 表示成功处理请求</li>
<li>3xx 需要重定向，浏览器直接跳转</li>
<li>4xx 客户端请求错误</li>
<li>5xx 服务端错误</li>
</ul>
<h3 id="跨域"><a href="#跨域" class="headerlink" title="跨域"></a>跨域</h3><p>浏览器有同源策略（协议、域名、端口都相同）</p>
<p>所有跨域请求都必须经过信息提供方允许</p>
<h3 id="可以跨域的三个标签-img-link-script"><a href="#可以跨域的三个标签-img-link-script" class="headerlink" title="可以跨域的三个标签 img link script"></a>可以跨域的三个标签 img link script</h3><ul>
<li><img src=xxx>, 防盗链了的话就不展示了。</li>
</ul>
<p><img>用于打点统计，统计网站可能是其他域，img 无兼容性问题</p>
<ul>
<li><link href=xxx>

</li>
</ul>
<p>link、script 可以使用 CDN</p>
<ul>
<li><script srv=xxx>

</li>
</ul>
<p>script 可以用于 JSONP</p>
<h3 id="JSONP-实现原理"><a href="#JSONP-实现原理" class="headerlink" title="JSONP 实现原理"></a>JSONP 实现原理</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line"><span class="built_in">window</span>.callback = <span class="function"><span class="keyword">function</span> (<span class="params">data</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 这是我们跨域得到的信息</span></span><br><span class="line">    <span class="built_in">console</span>.log(data)</span><br><span class="line">&#125;</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">&lt;script src="http:/</span><span class="regexp">/coding.com/</span>api.js<span class="string">"&gt;&lt;/script&gt;</span></span><br><span class="line"><span class="string">&lt;!-- 请求 api.js 服务器返回 callback(&#123;x:100, y:200&#125;)--&gt;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">// 总结，请求服务器，服务器给我们返回个js片段，</span></span><br><span class="line"><span class="string">// js片段执行这个函数，触发本地同名函数调用，触发 console.log(data)</span></span><br></pre></td></tr></table></figure>
<h3 id="服务器设置-http-header"><a href="#服务器设置-http-header" class="headerlink" title="服务器设置 http header"></a>服务器设置 http header</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 不同语言设置可能不一样</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 第二个参数设置允许跨域的域名，不建议写 *</span></span><br><span class="line">response.setHeader(<span class="string">"Access-Control-Allow-Origin"</span>, <span class="string">"http://a.com, http://b.com"</span>);</span><br><span class="line">response.setHeader(<span class="string">"Access-Control-Allow-Headers"</span>, <span class="string">"X-Request-With"</span>);</span><br><span class="line">response.setHeader(<span class="string">"Access-Control-Allow-Methods"</span>,<span class="string">"PUT,POST,GET,DELETE,OPTIONS"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 接收跨域的 cookie</span></span><br><span class="line">response.setHeader(<span class="string">"Access-Control-Allow-Credentials"</span>, <span class="string">"true"</span>)</span><br></pre></td></tr></table></figure>
<h3 id="cookie"><a href="#cookie" class="headerlink" title="cookie"></a>cookie</h3><ul>
<li>本身用于客户端和服务端通信</li>
<li>但是它有本地存储能力，于是就被“借用”</li>
<li>使用 <code>document.cookie = ...</code> 获取和设置即可</li>
</ul>
<p>缺点：</p>
<ul>
<li>存储量太小，只有 4KB</li>
<li>所有 http 请求都带着，会影响获取资源的效率</li>
<li>API 简单，需要封装才能用 document.cookie = ..</li>
</ul>
<h3 id="sessionStorage"><a href="#sessionStorage" class="headerlink" title="sessionStorage"></a>sessionStorage</h3><h3 id="localStorage"><a href="#localStorage" class="headerlink" title="localStorage"></a>localStorage</h3><ul>
<li>HTML5 专门为存储而设计，最大容量 5M</li>
<li>API 简单易用</li>
<li>localStorage.setItem(key, value)</li>
<li>localStorage.getItem(key)</li>
<li>iOS safari 隐藏模式下，localStorage.getItem 会报错， 建议统一使用 try-catch 封装</li>
</ul>
<h3 id="上线、回滚"><a href="#上线、回滚" class="headerlink" title="上线、回滚"></a>上线、回滚</h3><p>上线流程要点：</p>
<ul>
<li>将测试完成的代码提交到git版本库master分支</li>
<li>将当前服务器的代码全部打包并记录版本号, 备份</li>
<li>将master分支的代码提交覆盖到线上服务器, 生成新版本号</li>
</ul>
<p>回滚流程要点</p>
<ul>
<li>将当前服务器的代码打包并记录版本号， 备份</li>
<li>将备份的上一个版本号解压，覆盖到线上服务器, 并生成新的版本号</li>
</ul>
<h2 id="加载、渲染"><a href="#加载、渲染" class="headerlink" title="加载、渲染"></a>加载、渲染</h2><h3 id="加载资源的形式"><a href="#加载资源的形式" class="headerlink" title="加载资源的形式"></a>加载资源的形式</h3><ul>
<li>输入 url(或跳转页面)加载html</li>
<li>http：//xX.com</li>
<li>加载html中的静态资源</li>
<li>加载js</li>
</ul>
<h3 id="加载一个资源的过程"><a href="#加载一个资源的过程" class="headerlink" title="加载一个资源的过程"></a>加载一个资源的过程</h3><ul>
<li>浏览器根据DNC 服务器得到域名的IP地址</li>
<li>向这个IP的服务器发送http请求</li>
<li>服务器收到、处理并返回htpp请求</li>
<li>浏览器得到返回内容</li>
</ul>
<h3 id="浏览器渲染页面的过程"><a href="#浏览器渲染页面的过程" class="headerlink" title="浏览器渲染页面的过程"></a>浏览器渲染页面的过程</h3><ul>
<li>根据HTML结构生成DOM Tree</li>
<li>根据CSS生成CSSOM</li>
<li>将DOM 和CSSOM 整合成RenderTree</li>
<li>根据RenderTree开始渲染和展示</li>
<li>遇到<script>时，会执行并阻塞渲染，因为js可能会改变DOM树，规定执行js暂停渲染。</li>
</ul>
<h3 id="window-onload-和-DOMContentLoaded"><a href="#window-onload-和-DOMContentLoaded" class="headerlink" title="window.onload 和 DOMContentLoaded"></a>window.onload 和 DOMContentLoaded</h3><p>window.onload：页面的全部资源加载完才会执行，包括图片、视频<br>DOMContentLoaded：DOM 渲染完即可执行，此时图片、视频还没加载完</p>
<h2 id="性能优化"><a href="#性能优化" class="headerlink" title="性能优化"></a>性能优化</h2><h3 id="原则"><a href="#原则" class="headerlink" title="原则"></a>原则</h3><ul>
<li>多使用内存、缓存或者其他方法</li>
<li>减少CPU计算、较少网络</li>
</ul>
<h3 id="加载资源优化"><a href="#加载资源优化" class="headerlink" title="加载资源优化"></a>加载资源优化</h3><ul>
<li>静态资源的压缩合并</li>
<li>静态资源缓存</li>
<li>使用CDN让资源加载更快</li>
<li>使用SSR后端渲染，数据直接输出到HTML中</li>
</ul>
<h3 id="渲染优化"><a href="#渲染优化" class="headerlink" title="渲染优化"></a>渲染优化</h3><ul>
<li>CSS放前面，JS放后面</li>
<li>懒加载（图片懒加载，下拉加载更多）</li>
<li>减少DOM查询，对DOM查询做缓存</li>
<li>减少DOM操作，多个操作尽量合并在一起</li>
<li>事件节流（事件不要触发太多次，不得已才触发，不让一直连续快速点击等）</li>
<li>尽早执行操作（如DOMContentLoaded，jq、zepto都是用这个判断是否加载完成）</li>
</ul>
<h2 id="安全性"><a href="#安全性" class="headerlink" title="安全性"></a>安全性</h2><h2 id="简历"><a href="#简历" class="headerlink" title="简历"></a>简历</h2><ul>
<li>简洁明了，重点突出项目经历和解决方案</li>
<li>个人博客，定期维护更新</li>
<li>谈谈你的缺点：说下最近学什么就好</li>
<li>学会给面试官惊喜，但不要太多</li>
</ul>
</script></li></ul></div><!--文章标签--><div class="tags"><a href="/tags/面试/">面试</a></div><!--评论--></div></div></div><div class="pure-u-1-4"><div id="sidebar"><div class="widget"><div class="widget-title"> 分类</div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Git/">Git</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Hexo/">Hexo</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/JavaScript-基础/">JavaScript 基础</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/gitbook/">gitbook</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/linux/">linux</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/node/">node</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/书单/">书单</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/代码库/">代码库</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/转载/">转载</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/遇到的问题/">遇到的问题</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/面试/">面试</a><span class="category-list-count">3</span></li></ul></div><div class="widget"><div class="widget-title"> 标签</div><div class="tagcloud"><a href="/tags/代码库/" style="font-size: 18px;">代码库</a> <a href="/tags/Hexo/" style="font-size: 12px;">Hexo</a> <a href="/tags/JavaScript/" style="font-size: 18px;">JavaScript</a> <a href="/tags/正则表达式/" style="font-size: 12px;">正则表达式</a> <a href="/tags/linux/" style="font-size: 16px;">linux</a> <a href="/tags/爬虫/" style="font-size: 14px;">爬虫</a> <a href="/tags/书单/" style="font-size: 12px;">书单</a> <a href="/tags/gitbook/" style="font-size: 12px;">gitbook</a> <a href="/tags/遇到的问题/" style="font-size: 12px;">遇到的问题</a> <a href="/tags/面试/" style="font-size: 16px;">面试</a> <a href="/tags/Git/" style="font-size: 12px;">Git</a> <a href="/tags/ES6/" style="font-size: 12px;">ES6</a> <a href="/tags/架构/" style="font-size: 12px;">架构</a> <a href="/tags/网络基础/" style="font-size: 12px;">网络基础</a></div></div></div></div></div><div id="footer">© <a href="/." rel="nofollow">Awoke.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a> Theme<a target="_blank" href="https://github.com/7ye/maupassant-hexo"> Maupassant.</a></div><a id="back_to_top" href="javascript:void(0)" class="back_to_top"><span>△</span></a><script type="text/javascript" src="/js/totop.js?v=0.0.1"></script><link rel="stylesheet" href="/css/jquery.fancybox.css"><script type="text/javascript" src="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.pack.js"></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.1"></script><script>function auto_code_fit(){
  if($(".highlight").length != 0){
    var pc_width = $(".post-content").width();
    $(".highlight .code").find("pre").width((pc_width-70)+"px");
  }
}
window.onresize = function(){
  auto_code_fit();
}
auto_code_fit();</script></div></body>