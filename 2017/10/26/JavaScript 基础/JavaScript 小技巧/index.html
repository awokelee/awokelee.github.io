<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>JavaScript 小技巧 | Awoke</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/7.0.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">JavaScript 小技巧</h1><a id="logo" href="/.">Awoke</a><p class="description">记录下dq学习的点滴</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a></div></div><div id="layout" class="pure-g"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">JavaScript 小技巧</h1><div class="post-meta">Oct 26, 2017<span> | </span><span class="category"><a href="/categories/JavaScript-基础/">JavaScript 基础</a></span></div><div class="clear"><div id="toc" class="toc-article"><div class="toc-title">文章目录</div><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#值交换"><span class="toc-number">1.</span> <span class="toc-text">值交换</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#去掉小数"><span class="toc-number">2.</span> <span class="toc-text">去掉小数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#判断-x-是否是整数"><span class="toc-number">3.</span> <span class="toc-text">判断 x 是否是整数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#递归求阶乘"><span class="toc-number">4.</span> <span class="toc-text">递归求阶乘</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#判断符号是否相同"><span class="toc-number">5.</span> <span class="toc-text">判断符号是否相同</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#克隆数组"><span class="toc-number">6.</span> <span class="toc-text">克隆数组</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#数组去重"><span class="toc-number">7.</span> <span class="toc-text">数组去重</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#数组最大值"><span class="toc-number">8.</span> <span class="toc-text">数组最大值</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#数组最小值"><span class="toc-number">9.</span> <span class="toc-text">数组最小值</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#随机获取数组的一个成员"><span class="toc-number">10.</span> <span class="toc-text">随机获取数组的一个成员</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#产生随机颜色"><span class="toc-number">11.</span> <span class="toc-text">产生随机颜色</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#随机生成指定长度的字符串"><span class="toc-number">12.</span> <span class="toc-text">随机生成指定长度的字符串</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#深拷贝"><span class="toc-number">13.</span> <span class="toc-text">深拷贝</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#美化console"><span class="toc-number">14.</span> <span class="toc-text">美化console</span></a></li></ol></div></div><div class="post-content"><p>JS小技巧.</p>
<a id="more"></a>
<blockquote>
<p>文章内容整理于互联网，方便学习</p>
</blockquote>
<h3 id="值交换"><a href="#值交换" class="headerlink" title="值交换"></a>值交换</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// (传统，但需要借助临时变量)</span></div><div class="line"><span class="keyword">var</span> temp = a; a = b; b = temp; </div><div class="line"></div><div class="line"><span class="comment">// (需要两个整数)</span></div><div class="line">a ^= b; b ^= a; a ^= b; </div><div class="line"></div><div class="line"><span class="comment">// (借助数组)</span></div><div class="line">b = [a, a = b][<span class="number">0</span>];</div><div class="line"></div><div class="line"><span class="comment">// (ES6，解构赋值) </span></div><div class="line">[a, b] = [b, a]; </div><div class="line"></div><div class="line"><span class="comment">//  (小学奥赛题)</span></div><div class="line">a = a + b; b = a - b; a = a - b;</div></pre></td></tr></table></figure>
<h3 id="去掉小数"><a href="#去掉小数" class="headerlink" title="去掉小数"></a>去掉小数</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">parseInt</span>(num)</div><div class="line">~~num</div><div class="line">num &gt;&gt; <span class="number">0</span></div><div class="line">num | <span class="number">0</span></div></pre></td></tr></table></figure>
<h3 id="判断-x-是否是整数"><a href="#判断-x-是否是整数" class="headerlink" title="判断 x 是否是整数"></a>判断 x 是否是整数</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">isInt</span>(<span class="params">x</span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> (x ^ <span class="number">0</span>) === x</div><div class="line">&#125;</div><div class="line"><span class="comment">// return Math.round(x) === x</span></div><div class="line"><span class="comment">// return (typeof x === 'number') &amp;&amp; (x % 1 === 0)</span></div><div class="line"><span class="comment">// ES6 -&gt; Number.isInteger()</span></div></pre></td></tr></table></figure>
<h3 id="递归求阶乘"><a href="#递归求阶乘" class="headerlink" title="递归求阶乘"></a>递归求阶乘</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">factorial</span>(<span class="params">n</span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> (n &gt; <span class="number">1</span>) ? n * f(n - <span class="number">1</span>) : n</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="判断符号是否相同"><a href="#判断符号是否相同" class="headerlink" title="判断符号是否相同"></a>判断符号是否相同</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">sameSign</span>(<span class="params">a, b</span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> (a ^ b) &gt;= <span class="number">0</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="克隆数组"><a href="#克隆数组" class="headerlink" title="克隆数组"></a>克隆数组</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">arr.slice(<span class="number">0</span>)</div></pre></td></tr></table></figure>
<h3 id="数组去重"><a href="#数组去重" class="headerlink" title="数组去重"></a>数组去重</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// ES6</span></div><div class="line">[...new <span class="built_in">Set</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">3</span>, <span class="number">4</span>])]</div><div class="line"></div><div class="line"><span class="built_in">Array</span>.from(<span class="keyword">new</span> <span class="built_in">Set</span>(arr))</div><div class="line"></div><div class="line"><span class="comment">// ES5</span></div><div class="line">arr.filter(<span class="function"><span class="keyword">function</span>(<span class="params">ele, index, array</span>)</span>&#123;</div><div class="line">    <span class="keyword">return</span> index===array.indexOf(ele)</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<h3 id="数组最大值"><a href="#数组最大值" class="headerlink" title="数组最大值"></a>数组最大值</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">maxArr</span>(<span class="params">arr</span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> <span class="built_in">Math</span>.max.apply(<span class="literal">null</span>, arr)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="数组最小值"><a href="#数组最小值" class="headerlink" title="数组最小值"></a>数组最小值</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">minArr</span>(<span class="params">arr</span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> <span class="built_in">Math</span>.min.apply(<span class="literal">null</span>, arr)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="随机获取数组的一个成员"><a href="#随机获取数组的一个成员" class="headerlink" title="随机获取数组的一个成员"></a>随机获取数组的一个成员</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">randomOne</span>(<span class="params">arr</span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> arr[<span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * arr.length)]</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="产生随机颜色"><a href="#产生随机颜色" class="headerlink" title="产生随机颜色"></a>产生随机颜色</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">getRandomColor</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> <span class="string">`#<span class="subst">$&#123;<span class="built_in">Math</span>.random().toString(<span class="number">16</span>).substr(<span class="number">2</span>, <span class="number">6</span>)&#125;</span>`</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="随机生成指定长度的字符串"><a href="#随机生成指定长度的字符串" class="headerlink" title="随机生成指定长度的字符串"></a>随机生成指定长度的字符串</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">randomStr</span>(<span class="params">n</span>) </span>&#123;</div><div class="line">  <span class="keyword">let</span> standard = <span class="string">'abcdefghijklmnopqrstuvwxyz9876543210'</span></div><div class="line">  <span class="keyword">let</span> len = standard.length</div><div class="line">  <span class="keyword">let</span> result = <span class="string">''</span></div><div class="line"></div><div class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</div><div class="line">    result += standard.charAt(<span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * len))</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="keyword">return</span> result</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="深拷贝"><a href="#深拷贝" class="headerlink" title="深拷贝"></a>深拷贝</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">JSON</span>.parse(<span class="built_in">JSON</span>.stringify(obj))</div></pre></td></tr></table></figure>
<h3 id="美化console"><a href="#美化console" class="headerlink" title="美化console"></a>美化console</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">console</span>.info(<span class="string">"%c哈哈"</span>, <span class="string">"color: #3190e8; font-size: 30px; font-family: sans-serif"</span>);</div></pre></td></tr></table></figure></div><div class="tags"><a href="/tags/JavaScript/">JavaScript</a></div><div class="post-nav"><a href="/2017/10/27/JavaScript 基础/正则表达式/" class="pre">JavaScript 正则表达式</a><a href="/2017/10/26/JavaScript 基础/JavaScript 简写技巧/" class="next">JavaScript 简写技巧</a></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form action="//www.baidu.com/baidu" method="get" accept-charset="utf-8" target="_blank" class="search-form"><input type="search" name="word" maxlength="20" placeholder="Search"/><input type="hidden" name="si" value="http://yoursite.com"/><input name="tn" type="hidden" value="bds"/><input name="cl" type="hidden" value="3"/><input name="ct" type="hidden" value="2097152"/><input name="s" type="hidden" value="on"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Git/">Git</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Hexo/">Hexo</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/JavaScript-基础/">JavaScript 基础</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/书单/">书单</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/转载/">转载</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/面试/">面试</a><span class="category-list-count">2</span></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/Hexo/" style="font-size: 15px;">Hexo</a> <a href="/tags/ES6/" style="font-size: 15px;">ES6</a> <a href="/tags/JavaScript/" style="font-size: 15px;">JavaScript</a> <a href="/tags/正则表达式/" style="font-size: 15px;">正则表达式</a> <a href="/tags/书单/" style="font-size: 15px;">书单</a> <a href="/tags/Git/" style="font-size: 15px;">Git</a> <a href="/tags/网络基础/" style="font-size: 15px;">网络基础</a> <a href="/tags/架构/" style="font-size: 15px;">架构</a> <a href="/tags/面试/" style="font-size: 15px;">面试</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2017/10/28/面试/前端面试-自己整理/">前端面试-自己整理</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/10/28/JavaScript 基础/JavaScript 排序算法/">JavaScript 排序算法</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/10/28/面试/前端面试/">前端面试</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/10/27/JavaScript 基础/JavaScript 数组去重/">JavaScript 数组去重</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/10/27/JavaScript 基础/JavaScript 数组相关/">JavaScript 数组常用方法</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/10/27/JavaScript 基础/正则表达式/">JavaScript 正则表达式</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/10/26/JavaScript 基础/JavaScript 小技巧/">JavaScript 小技巧</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/10/26/JavaScript 基础/JavaScript 简写技巧/">JavaScript 简写技巧</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/10/26/转载/一文看懂web服务器、应用服务器、web容器、反向代理服务器区别与联系/">web服务器、应用服务器、web容器、反向代理服务器区别联系</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/10/25/hexo/">Hexo 常用命令</a></li></ul></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2017 <a href="/." rel="nofollow">Awoke.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a id="rocket" href="#top" class="show"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/3.1.20/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/3.1.20/jquery.fancybox.min.css"><script type="text/javascript" color="100,99,98" opacity="0.7" zIndex="-1" count="150" src="//cdn.bootcss.com/canvas-nest.js/1.0.1/canvas-nest.min.js"></script><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>